<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LaTeX æ•¸å­¸èªæ³•æŸ¥è©¢å™¨</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
        }
        #sidebar {
            width: 300px;
            height: 100vh;
            overflow-y: auto;
            padding: 20px;
            border-right: 1px solid #ddd;
        }
        #content {
            flex-grow: 1;
            padding: 20px;
            height: 100vh;
            overflow-y: auto;
        }
        #search {
            width: 100%;
            padding: 5px;
            margin-bottom: 10px;
        }
        .category {
            margin-bottom: 10px;
        }
        .category-title {
            cursor: pointer;
            font-weight: bold;
            padding: 5px;
            background-color: #f0f0f0;
            border: 1px solid #ddd;
            width: 100%;
            text-align: left;
        }
        .symbol-list {
            display: none;
            margin-left: 20px;
        }
        .symbol-item {
            cursor: pointer;
            margin: 5px 0;
            padding: 3px;
        }
        #syntax {
            background-color: #f0f0f0;
            padding: 15px;
            margin-bottom: 15px;
            font-size: 1.2em;
        }
        #copy-btn {
            margin-bottom: 15px;
            font-size: 1em;
            padding: 5px 10px;
        }
        #preview {
            border: 1px solid #ddd;
            padding: 15px;
            font-size: 1.2em;
        }
    </style>
</head>
<body>
    <div id="sidebar" role="navigation" aria-label="ç¬¦è™Ÿé¡åˆ¥å°è¦½">
        <h2 id="category-heading">ç¬¦è™Ÿé¡åˆ¥</h2>
        <input type="text" id="search" placeholder="æœå°‹ç¬¦è™Ÿ..." aria-label="æœå°‹ç¬¦è™Ÿ">
    </div>
    <div id="content" role="main">
        <h1>LaTeX æ•¸å­¸èªæ³•</h1>
        <pre id="syntax" aria-label="LaTeX èªæ³•"></pre>
        <button id="copy-btn">è¤‡è£½èªæ³•</button>
        <div id="preview" aria-label="æ•¸å­¸ç¬¦è™Ÿé è¦½"></div>
    </div>

    <script>
	const symbols = {
	  "åŸºæœ¬é‹ç®—": [
		{name: "åŠ æ³• +", latex: "a + b"},
		{name: "æ¸›æ³• -", latex: "a - b"},
		{name: "ä¹˜æ³• Ã—", latex: "a \\times b"},
		{name: "é»ä¹˜ Â·", latex: "a \\cdot b"},
		{name: "é™¤æ³• Ã·", latex: "a \\div b"},
		{name: "å–æ¨¡", latex: "a \\bmod b"},
		{name: "åŠ æ¸› Â±", latex: "a \\pm b"},
		{name: "æ¸›åŠ  âˆ“", latex: "a \\mp b"}
	  ],
	  "æŒ‡æ•¸èˆ‡æ ¹è™Ÿ": [
		{name: "æŒ‡æ•¸", latex: "a^{b}"},
		{name: "å¹³æ–¹æ ¹ âˆš", latex: "\\sqrt{a}"},
		{name: "næ¬¡æ–¹æ ¹", latex: "\\sqrt[n]{a}"},
		{name: "å°æ•¸", latex: "\\log_{b}(x)"},
		{name: "è‡ªç„¶å°æ•¸", latex: "\\ln(x)"},
		{name: "æŒ‡æ•¸å‡½æ•¸", latex: "e^x"}
	  ],
	  "åˆ†æ•¸èˆ‡æ¯”ä¾‹": [
		{name: "åˆ†æ•¸", latex: "\\frac{a}{b}"},
		{name: "å¤§åˆ†æ•¸", latex: "\\dfrac{a}{b}"},
		{name: "é€£åˆ†æ•¸", latex: "\\cfrac{1}{a + \\cfrac{1}{b + \\cfrac{1}{c}}}"},
		{name: "æ¯”ä¾‹", latex: "a:b"},
		{name: "ç™¾åˆ†æ¯” %", latex: "a\\%"}
	  ],
	  "é›†åˆèˆ‡é‚è¼¯": [
		{name: "å±¬æ–¼ âˆˆ", latex: "a \\in A"},
		{name: "ä¸å±¬æ–¼ âˆ‰", latex: "a \\notin A"},
		{name: "å­é›† âŠ‚", latex: "A \\subset B"},
		{name: "çœŸå­é›† âŠŠ", latex: "A \\subsetneq B"},
		{name: "ç©ºé›† âˆ…", latex: "\\emptyset"},
		{name: "è¯é›† âˆª", latex: "A \\cup B"},
		{name: "äº¤é›† âˆ©", latex: "A \\cap B"},
		{name: "å·®é›† \\", latex: "A \\setminus B"},
		{name: "å°ç¨±å·® â–³", latex: "A \\triangle B"},
		{name: "ç¬›å¡çˆ¾ç© Ã—", latex: "A \\times B"},
		{name: "ä¸” âˆ§", latex: "P \\land Q"},
		{name: "æˆ– âˆ¨", latex: "P \\lor Q"},
		{name: "é Â¬", latex: "\\neg P"},
		{name: "è˜Šæ¶µ â†’", latex: "P \\implies Q"},
		{name: "ç­‰åƒ¹ â†”", latex: "P \\iff Q"},
		{name: "å…¨ç¨±é‡è© âˆ€", latex: "\\forall x"},
		{name: "å­˜åœ¨é‡è© âˆƒ", latex: "\\exists x"}
	  ],
	  "é—œä¿‚èˆ‡ä¸ç­‰å¼": [
		{name: "ç­‰æ–¼ =", latex: "a = b"},
		{name: "ä¸ç­‰æ–¼ â‰ ", latex: "a \\neq b"},
		{name: "å°æ–¼ <", latex: "a < b"},
		{name: "å¤§æ–¼ >", latex: "a > b"},
		{name: "å°æ–¼ç­‰æ–¼ â‰¤", latex: "a \\leq b"},
		{name: "å¤§æ–¼ç­‰æ–¼ â‰¥", latex: "a \\geq b"},
		{name: "ç´„ç­‰æ–¼ â‰ˆ", latex: "a \\approx b"},
		{name: "æ†ç­‰æ–¼ â‰¡", latex: "a \\equiv b"},
		{name: "åŒé¤˜ â‰¡", latex: "a \\equiv b \\pmod{m}"},
		{name: "é å°æ–¼ â‰ª", latex: "a \\ll b"},
		{name: "é å¤§æ–¼ â‰«", latex: "a \\gg b"}
	  ],
	  "å¹¾ä½•èˆ‡ä¸‰è§’": [
		{name: "è§’åº¦ âˆ ", latex: "\\angle {ABC}"},
		{name: "å¹³è¡Œ âˆ¥", latex: "\\overline{AB} \\parallel \\overline{CD}"},
		{name: "å‚ç›´ âŠ¥", latex: "\\overline{AB} \\perp \\overline{CD}"},
		{name: "ä¸‰è§’å½¢ â–³", latex: "\\triangle {ABC}"},
		{name: "ç›¸ä¼¼ âˆ¼", latex: "\\triangle {ABC} \\sim \\triangle {DEF}"},
		{name: "å…¨ç­‰ â‰…", latex: "\\triangle {ABC} \\cong \\triangle {DEF}"},
		{name: "åº¦æ•¸ Â°", latex: "90^{\\circ}"},
		{name: "ç·šæ®µ Ì…", latex: "\\overline{AB}"},
		{name: "å°„ç·š â†’", latex: "\\overrightarrow{AB}"},
		{name: "ç›´ç·š â†”", latex: "\\overleftrightarrow{AB}"},
		{name: "å¼§ âŒ’", latex: "\\overset{\\frown}{AB}"},
		{name: "æ­£å¼¦ sin", latex: "\\sin(x)"},
		{name: "é¤˜å¼¦ cos", latex: "\\cos(x)"},
		{name: "æ­£åˆ‡ tan", latex: "\\tan(x)"},
		{name: "é¤˜åˆ‡ cot", latex: "\\cot(x)"},
		{name: "æ­£å‰² sec", latex: "\\sec(x)"},
		{name: "é¤˜å‰² csc", latex: "\\csc(x)"}
	  ],
		"æ–¹ç¨‹å¼": [
		{name: "æ–¹ç¨‹å¼", latex: "ax + b = c"},
		{name: "è¯ç«‹æ–¹ç¨‹å¼", latex: "\\begin{cases} a_{1}x + b_{1}y = c_{1} \\\\ a_{2}x + b_{2}y = c_{2} \\end{cases}"},
		{name: "ä¸ç­‰å¼", latex: "a < x < b"},
		{name: "äºŒæ¬¡æ–¹ç¨‹å¼", latex: "ax^2 + bx + c = 0"}
	  ],
	  "å¾®ç©åˆ†": [
		{name: "å°æ•¸", latex: "f'(x)"},
		{name: "åå°æ•¸ âˆ‚", latex: "\\frac{\\partial f}{\\partial x}"},
		{name: "ä¸å®šç©åˆ† âˆ«", latex: "\\int f(x) dx"},
		{name: "å®šç©åˆ†", latex: "\\int_{a}^{b} f(x) dx"},
		{name: "æ›²ç·šç©åˆ† âˆ®", latex: "\\oint_C f(x,y) ds"},
		{name: "æ¥µé™ lim", latex: "\\lim_{x \\to a} f(x)"},
		{name: "ç„¡çª®å¤§ âˆ", latex: "\\infty"},
		{name: "æ±‚å’Œ Î£", latex: "\\sum_{i=1}^{n} a_i"},
		{name: "æ±‚ç© Î ", latex: "\\prod_{i=1}^{n} a_i"}
	  ],
	  "çŸ©é™£èˆ‡å‘é‡": [
		{name: "çŸ©é™£", latex: "\\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix}"},
		{name: "è¡Œåˆ—å¼", latex: "\\begin{vmatrix} a & b \\\\ c & d \\end{vmatrix}"},
		{name: "å‘é‡", latex: "\\vec{v}"},
		{name: "å–®ä½å‘é‡", latex: "\\hat{v}"},
		{name: "çŸ©é™£ä¹˜æ³•", latex: "AB"},
		{name: "é»ç© Â·", latex: "\\mathbf{a} \\cdot \\mathbf{b}"},
		{name: "å‰ç© Ã—", latex: "\\mathbf{a} \\times \\mathbf{b}"}
	  ],
	  "å¸Œè‡˜å­—æ¯": [
		{name: "é˜¿çˆ¾æ³• Î±", latex: "\\alpha"},
		{name: "è²å¡” Î²", latex: "\\beta"},
		{name: "ä¼½ç‘ª Î³", latex: "\\gamma"},
		{name: "å¾·çˆ¾å¡” Î´", latex: "\\delta"},
		{name: "å„æ™®è¥¿éš† Îµ", latex: "\\epsilon"},
		{name: "æ´¾ Ï€", latex: "\\pi"},
		{name: "è¥¿æ ¼ç‘ª Ïƒ", latex: "\\sigma"},
		{name: "æ­ç±³åŠ  Ï‰", latex: "\\omega"}
	  ],
	  "ç®­é ­èˆ‡ç¬¦è™Ÿ": [
		{name: "å³ç®­é ­ â†’", latex: "\\rightarrow"},
		{name: "å·¦ç®­é ­ â†", latex: "\\leftarrow"},
		{name: "é›™å‘ç®­é ­ â†”", latex: "\\leftrightarrow"},
		{name: "é•·å³ç®­é ­ âŸ¶", latex: "\\longrightarrow"},
		{name: "æ˜ å°„ â†¦", latex: "\\mapsto"},
		{name: "å› æ­¤ âˆ´", latex: "\\therefore"},
		{name: "å› ç‚º âˆµ", latex: "\\because"},
		{name: "å‚ç›´çœç•¥è™Ÿ â‹®", latex: "\\vdots"},
		{name: "æ°´å¹³çœç•¥è™Ÿ â‹¯", latex: "\\cdots"}
	  ],
	  "é›†åˆè«–": [
		{name: "è‡ªç„¶æ•¸é›† â„•", latex: "\\mathbb{N}"},
		{name: "æ•´æ•¸é›† â„¤", latex: "\\mathbb{Z}"},
		{name: "æœ‰ç†æ•¸é›† â„š", latex: "\\mathbb{Q}"},
		{name: "å¯¦æ•¸é›† â„", latex: "\\mathbb{R}"},
		{name: "è¤‡æ•¸é›† â„‚", latex: "\\mathbb{C}"},
		{name: "ç©ºé›† âˆ…", latex: "\\emptyset"},
		{name: "å†ªé›† ğ’«", latex: "\\mathcal{P}(A)"}
	  ],
	  "æ’åºèˆ‡çµ„åˆ": [
		{name: "éšä¹˜ !", latex: "n!"},
		{name: "äºŒé …å¼ä¿‚æ•¸", latex: "\\binom{n}{k}"},
		{name: "æ’åˆ—", latex: "P(n,r)"},
		{name: "çµ„åˆ", latex: "C(n,r)"}
	  ],
		"å¤§å‹é‹ç®—ç¬¦": [
		{name: "æ±‚å’Œ Î£", latex: "\\sum_{i=1}^{n} a_i"},
		{name: "æ±‚ç© Î ", latex: "\\prod_{i=1}^{n} a_i"},
		{name: "é¤˜ç© âˆ", latex: "\\coprod_{i=1}^{n} A_i"},
		{name: "ä¸¦é›† â‹ƒ", latex: "\\bigcup_{i=1}^{n} A_i"},
		{name: "äº¤é›† â‹‚", latex: "\\bigcap_{i=1}^{n} A_i"},
		{name: "æå– â‹", latex: "\\bigvee_{i=1}^{n} P_i"},
		{name: "åˆå– â‹€", latex: "\\bigwedge_{i=1}^{n} P_i"},
		{name: "æ¥µé™ lim", latex: "\\lim_{x \\to \\infty} f(x)"},
		{name: "ä¸å®šç©åˆ† âˆ«", latex: "\\int f(x) dx"},
		{name: "å®šç©åˆ†", latex: "\\int_{a}^{b} f(x) dx"},
		{name: "äºŒé‡ç©åˆ†", latex: "\\iint_{D} f(x,y) dxdy"},
		{name: "ä¸‰é‡ç©åˆ†", latex: "\\iiint_{V} f(x,y,z) dxdydz"},
		{name: "æ›²ç·šç©åˆ† âˆ®", latex: "\\oint_C f(x,y) ds"},
		{name: "æ›²é¢ç©åˆ†", latex: "\\iint_S f(x,y,z) dS"}
	  ]
	};

    const sidebar = document.getElementById('sidebar');
    const syntaxPre = document.getElementById('syntax');
    const copyBtn = document.getElementById('copy-btn');
    const preview = document.getElementById('preview');
    const searchInput = document.getElementById('search');

    // ç”Ÿæˆå´é‚Šæ¬„
    for (const [category, items] of Object.entries(symbols)) {
        const categoryDiv = document.createElement('div');
        categoryDiv.className = 'category';
        
        const categoryTitle = document.createElement('button');
        categoryTitle.className = 'category-title';
        categoryTitle.textContent = category;
        categoryTitle.setAttribute('aria-expanded', 'false');
        categoryTitle.setAttribute('aria-controls', `list-${category}`);
        
        const symbolList = document.createElement('div');
        symbolList.id = `list-${category}`;
        symbolList.className = 'symbol-list';
        
        items.forEach(symbol => {
            const symbolItem = document.createElement('div');
            symbolItem.className = 'symbol-item';
            symbolItem.textContent = symbol.name;
            symbolItem.onclick = () => showSymbol(symbol);
            symbolList.appendChild(symbolItem);
        });
        
        categoryTitle.onclick = () => toggleCategory(categoryTitle, symbolList);
        
        categoryDiv.appendChild(categoryTitle);
        categoryDiv.appendChild(symbolList);
        sidebar.appendChild(categoryDiv);
    }

    function toggleCategory(title, list) {
        const expanded = title.getAttribute('aria-expanded') === 'true';
        
        // æ”¶åˆæ‰€æœ‰é¡åˆ¥
        document.querySelectorAll('.symbol-list').forEach(l => {
            l.style.display = 'none';
            l.previousElementSibling.setAttribute('aria-expanded', 'false');
        });

        // å¦‚æœç•¶å‰é¡åˆ¥æ˜¯æ”¶åˆçš„ï¼Œå‰‡å±•é–‹å®ƒ
        if (!expanded) {
            list.style.display = 'block';
            title.setAttribute('aria-expanded', 'true');
        }
    }

    function showSymbol(symbol) {
        syntaxPre.textContent = `\\( ${symbol.latex} \\)`;
        preview.innerHTML = `\\[${symbol.latex}\\]`;
        MathJax.typeset();
        
        // æ›´æ–° ARIA æ¨™ç±¤
        syntaxPre.setAttribute('aria-label', `LaTeX èªæ³•ï¼š${symbol.name}`);
        preview.setAttribute('aria-label', `æ•¸å­¸ç¬¦è™Ÿé è¦½ï¼š${symbol.name}`);
    }

    copyBtn.onclick = () => {
        navigator.clipboard.writeText(syntaxPre.textContent)
            .then(() => {
                alert('èªæ³•å·²è¤‡è£½åˆ°å‰ªè²¼æ¿');
                copyBtn.focus(); // ä¿æŒç„¦é»åœ¨æŒ‰éˆ•ä¸Š
            })
            .catch(err => console.error('ç„¡æ³•è¤‡è£½èªæ³•: ', err));
    }

    // æœå°‹åŠŸèƒ½
    searchInput.addEventListener('input', () => {
        const searchTerm = searchInput.value.toLowerCase();
        
        document.querySelectorAll('.category').forEach(categoryDiv => {
            const categoryTitle = categoryDiv.querySelector('.category-title');
            const symbolList = categoryDiv.querySelector('.symbol-list');
            let hasMatch = false;

            Array.from(symbolList.children).forEach(symbolItem => {
                const symbol = symbols[categoryTitle.textContent].find(s => s.name === symbolItem.textContent);
                if (symbol.name.toLowerCase().includes(searchTerm) || symbol.latex.toLowerCase().includes(searchTerm)) {
                    symbolItem.style.display = 'block';
                    hasMatch = true;
                } else {
                    symbolItem.style.display = 'none';
                }
            });

            if (hasMatch) {
                categoryDiv.style.display = 'block';
                symbolList.style.display = 'block';
                categoryTitle.setAttribute('aria-expanded', 'true');
            } else {
                categoryDiv.style.display = 'none';
            }
        });
    });
    </script>
</body>
</html>