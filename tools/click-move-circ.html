<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>動態點擊遊戲</title>
  <style>
    #game {
      width: 100%;
      height: 400px;
      border: 1px solid black;
      position: relative;
    }

    #circle {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-color: red;
      position: absolute;
      top: 0;
      left: 0;
    }

    #speed {
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <h1>動態點擊遊戲</h1>
  <p>用滑鼠點擊圓圈</p>
  <div id="game">
    <div id="circle"></div>
  </div>
  <label for="speed">速度</label>
  <input type="range" id="speed" min="0" max="3" step="1" value="1">
  <span id="speed-display">1</span>

  <script>
    // Get the circle element and the game element
    const circle = document.getElementById('circle');
    const game = document.getElementById('game');

    // Initialize the SpeechSynthesis API
    const synth = window.speechSynthesis;
    const utterance = new SpeechSynthesisUtterance('ok');

    // Set the initial position and direction of the circle
    let posX = 0;
    let posY = 0;
    let directionX = 1;
    let directionY = 1;

    // Set the initial speed and range of the circle's movement
    let speed = 1;
    const range = 50;

    // Start moving the circle
    setInterval(() => {
      // Calculate the new position of the circle
      const newX = posX + (speed * directionX);
      const newY = posY + (speed * directionY);

      // Check if the circle has hit the edge of the game area
      const maxX = game.clientWidth - circle.clientWidth;
      const maxY = game.clientHeight - circle.clientHeight;
      if (newX < 0 || newX > maxX) {
        directionX *= -1;
      }
      if (newY < 0 || newY > maxY) {
        directionY *= -1;
      }

      // Move the circle to the new position
      posX = newX;
      posY = newY;
      circle.style.left = `${posX}px`;
      circle.style.top = `${posY}px`;

      // Add some randomness to the circle's movement
      const randomX = Math.random() * 2 - 1;
      const randomY = Math.random() * 2 - 1;
      directionX += randomX;
      directionY += randomY;
      const length = Math.sqrt(directionX ** 2 + directionY ** 2);
      directionX /= length;
      directionY /= length;
    }, 10);

    // Add an input event listener to the speed slider
    const speedSlider = document.getElementById('speed');
    const speedDisplay = document.getElementById('speed-display');
    speedSlider.addEventListener('input', () => {
      // Update the speed of the circle's movement
      speed = parseInt(speedSlider.value);
      speedDisplay.textContent = speed;
    });

    // Add a click event listener to the circle
    circle.addEventListener('click', () => {
      // Change the circle's color
      const colors = ['red', 'orange', 'yellow', 'green', 'blue', 'purple'];
      const randomColor = colors[Math.floor(Math.random() * colors.length)];
      circle.style.backgroundColor = randomColor;

      // Say "Success!" using the SpeechSynthesis API
      synth.speak(utterance);

      // Generate a new random position for the circle
      posX = Math.floor(Math.random() * (game.clientWidth - circle.clientWidth - range)) + range/2;
      posY = Math.floor(Math.random() * (game.clientHeight - circle.clientHeight - range)) + range/2;
      circle.style.left = `${posX}px`;
      circle.style.top = `${posY}px`;

      // Generate a new random movement direction for the circle
      directionX = Math.random() < 0.5 ? -1 : 1;
      directionY = Math.random() < 0.5 ? -1 : 1;
    });
  </script>
</body>
</html>
